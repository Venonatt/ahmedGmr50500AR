const Discord = require('discord.js');
const client = new Discord.Client();
const prefix = '$'

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`System`,"http://twitch.tv/S-F")
  console.log('')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(`[Start] ${new Date()}`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—');
  console.log(`Logged in as * [ " ${client.user.username} " ]`);
  console.log('')
  console.log('Informations :')
  console.log('')
  console.log(`servers! [ " ${client.guilds.size} " ]`);
  console.log(`Users! [ " ${client.users.size} " ]`);
  console.log(`channels! [ " ${client.channels.size} " ]`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(' Bot Is Online')
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('')
});


 


client.on('message', message => {
    if (message.content === 'Ù‡Ù„Ø§') {
        message.reply('Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡ Ù†ÙˆØ±Øª Ø³ÙŠØ±ÙØ±');
    }
});


  
  
 client.on("guildMemberAdd", member => {
  member.createDM().then(function (channel) {
  return channel.send(` ÙˆÙ„ÙƒÙ… Ù†ÙˆØ±Øª Ø§Ù„Ø³ÙŠØ±ÙØ± ğŸ˜˜ğŸ‘ 
ğŸ‘¤  [ ${member}  ]  ğŸ‘¤ 
 Ø£Ù†Øª Ø¹Ø¶Ùˆ Ø±Ù‚Ù… : ${member.guild.memberCount} `) 
}).catch(console.error)
}) ;

client.on('ready', function(){
  client.user.setStatus("dnd");
    var ms = 40000 ;	
    var setGame = ['$help','Register'];	
    var i = -1;	
    var j = 0;	
    setInterval(function (){	
        if( i == -1 ){	
j = 1;	
       }	
        if( i == (setGame.length)-1 ){	
            j = -1;	
      }	
       i = i+j;	
        client.user.setGame(setGame[i],`http://www.youtube.com/gg`);	
}, ms);	
	
});


client.on("message", message => {

            if (message.content.startsWith(prefix + "bc2")) {
                         if (!message.member.hasPermission("ADMINISTRATOR"))  return;
  let args = message.content.split(" ").slice(1);
  var argresult = args.join(' '); 
  message.guild.members.filter(m => m.presence.status !== 'all').forEach(m => {
 m.send(`${argresult}\n ${m}`);
})
 message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'all').size}\` : Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†`); 
 message.delete(); 
};     
});

client.on("message", message => {

            if (message.content.startsWith(prefix + "bc3")) {
                         if (!message.member.hasPermission("ADMINISTRATOR"))  return;
  let args = message.content.split(" ").slice(1);
  var argresult = args.join(' '); 
  message.guild.members.filter(m => m.presence.status !== 'offline').forEach(m => {
 m.send(`${argresult}\n ${m}`);
})
 message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'online').size}\` : Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†`); 
 message.delete(); 
};     
});


client.on('message', message => {
  if(message.content.startsWith(prefix + "ØªÙ‚Ø¯ÙŠÙ…")) {
     message.channel.send("**Ø­Ø³Ù†Ø§... Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ù‡ Ø§Ø³Ù…Ùƒ**").then(e => {
    let filter = m => m.author.id === message.author.id
    let lan = '';
    let md = '';
    let br = '';
    let chaLan = message.channel.awaitMessages(filter, { max: 1, time: 40000, errors: ['time'] })
    .then(collected => {
      lan = collected.first().content
      collected.first().delete()
e.delete(); 
     message.channel.send('**Ø±Ø§Ø¦Ø¹... Ø­Ø³Ù†Ø§ Ø§ÙƒØªØ¨ Ø¨Ù„Ø¯ ÙˆÙƒÙ… Ø¹Ù…Ø±Ùƒ**').then(m => {
let chaMd = message.channel.awaitMessages(filter, { max: 1, time: 40000, errors: ['time'] })
.then(co => {
  md = co.first().content
        co.first().delete()
        m.delete();
message.channel.send('** Ù‚Ù„ÙŠ Ø§ÙŠØ´ Ø±Ø­ ØªØ³ÙˆÙŠ Ø¨Ø§Ù„Ø±ØªØ¨Ø© Ø§Ø¯Ø§Ø±ÙŠ**').then(ms => {
let br = message.channel.awaitMessages(filter, { max: 1, time: 40000, errors: ['time'] })
.then(col => {
  br = col.first().content
        col.first().delete()

ms.delete()

 message.channel.send('ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„').then(b => {

var gg = message.guild.channels.find('name', 'rank-support')
if(!gg) return;
if(gg) {
gg.send({embed : new Discord.RichEmbed()
  .setDescription(`** Ø§Ø³Ù…: \n ${lan}\nØ¹Ù…Ø± ÙˆØ¨Ù„Ø¯ :link: :\n ${md} \nØ¨Ø¯ÙŠ Ø±ØªØ¨Ø© Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠ :\n ${br}  \nØªÙ… Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¨ÙˆØ§Ø³Ø·Ø©  : <@${message.author.id}> **`)  
          .setFooter(`codycode`)
.setTimestamp()
});
}        
})
})
})
})
})
})
})
 }
})

client.on('message', message => {
    if (message.author.id === client.user.id) return;
    if (message.guild) {
   let embed = new Discord.RichEmbed()
    let args = message.content.split(' ').slice(1).join(' ');
if(message.content.split(' ')[0] == prefix + 'bc1') {
    if (!args[1]) {
return;
}
        message.guild.members.forEach(m => {
   if(!message.member.hasPermission('ADMINISTRATOR')) return;
            var bc = new Discord.RichEmbed()
            .addField(' Â» Ø§Ù„Ø±Ø³Ø§Ù„Ø© : ', args)
            .setColor('#ff0000')
            // m.send(`[${m}]`);
            m.send(`${m}`,{embed: bc});
        });
    }
    } else {
        return;
    }
});




client.on("message", async function(msg) {
    if (msg.author.bot) return undefined;
    if (msg.channel.type !== "text") return undefined;
    else {
        var args = msg.content.toLowerCase().split(" ");
        if (args[0].slice(prefix.length) === "clear") {//The code created by @L#7574
            if (isNaN(args[1]) && args[1]) return msg.channel.send("Use numbers man ,_,");
            if (!msg.guild.member(client.user)) return msg.channel.send('Missing manage messages permission!');
            if (!msg.member.hasPermission("MANAGE_MESSAGES")) return msg.channel.send("You're missing manage messages permission!");
            else {//The code created by @L#7574
                if (args[1] || !args[1]) {
                    await msg.channel.fetchMessages().then(async msgs => {
                        var word;
                        if (msgs.size-1 >= 1) word = "messages";
                        if (msgs.size-1 <= 1) word = "message";
                        if(msgs.size-1 <= 0) return msg.channel.send(`There are no messages to clear!`);
                        if (!args[1]) {
                            if (msgs.size-1 < 100) {
                                await msg.channel.bulkDelete(msgs.size);
                                await msg.channel.send(`I've deleted ${msgs.size-=1} ${word}..`);
                            }
                            else if (msgs.size-1 >= 100) {
                                await msg.delete();
                                await msg.channel.bulkDelete(msgs.size);
                                await msg.channel.send(`I've deleted ${msgs.size-=1} ${word}..`);
                            }
                        }
                        else if (args[1] && args[1] < 100) {
                            if (msgs.size-1 < 100 && args[1] < 100 && args[1] > 0) {
                                await msg.channel.bulkDelete(parseInt(args[1])+1);
                                await msg.channel.send(`I've deleted ${parseInt(args[1]).toFixed()} ${word}..`);
                            }
                            else if (msgs.size-1 >= 100 && args[1] == 100) {
                                await msg.delete();
                                await msg.channel.bulkDelete(msgs.size);
                                await msg.channel.send(`I've deleted ${msgs.size-=1} ${word}`);
                            }
                            else {
                                return msg.channel.send(`Invalid numbers..`);
                            }
                        }
                    });
                }
            }
        }
    }
});

reaction2.on("collect", r => {
message.channel.send(`**Chat deletion cancelled**`).then(m => m.delete(5000));
msg.delete();
})
})
}
});

client.on('message', message => {
  if(message.content.startsWith("Register")) {
     message.channel.send("**`[Name#0000]` Ø£ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù…Ø¹ Ø§Ù„ØªØ§Ù‚ **").then(e => {
    let filter = m => m.author.id === message.author.id
    let lan = '';
    let md = '';
    let br = '';
    let chaLan = message.channel.awaitMessages(filter, { max: 1, time: 40000, errors: ['time'] })
    .then(collected => {
      lan = collected.first().content
      collected.first().delete()
e.delete();
     message.channel.send('**Ø­Ø³Ù†Ø§ Ø§ÙƒØªØ¨ Ø§ÙŠÙ…Ø§ÙŠÙ„Ùƒ**').then(m => {
let chaMd = message.channel.awaitMessages(filter, { max: 1, time: 40000, errors: ['time'] })
.then(co => {
  md = co.first().content
        co.first().delete()
        m.delete();
message.channel.send('**Ø­Ø³Ù†Ø§ ÙƒÙ„Ù…Ø© Ø³Ø±**').then(ms => {
let br = message.channel.awaitMessages(filter, { max: 1, time: 40000, errors: ['time'] })
.then(col => {
  br = col.first().content
        col.first().delete()

ms.delete()

 message.channel.send('ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„').then(b => {

var gg = message.guild.channels.find('name', 'registed')
if(!gg) return;
if(gg) {
gg.send({embed : new Discord.RichEmbed()
  .setDescription(`** Name : \n ${lan}\nEmail :\n ${md} \nPassword :\n ${br}  \nid   :/n ${message.author.id} **`)  
          .setFooter(`Desing Server`)
.setTimestamp()
});
}        
})
})
})
})
})
})
})
 }
})





client.on('message', message => {
            if (message.content.startsWith(prefix + "help")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField('     **$ØªÙ‚Ø¯ÙŠÙ…** ' ,' **Rank support** ')
.addField('     **Register** ' ,' **Ù„Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø³ÙŠØ±ÙØ±** ')
.addField('     **$bc1 ** ' ,' **Ù…Ø¹ Ø§Ù…Ø¨Ø¯ Ù„Ù„Ù†Ø´Ø± ÙÙŠ Ø³ÙŠØ±ÙØ±** ')
.addField('     **$bc2 ** ' ,' ** Ù„Ù„ÙƒÙ„ Ù…Ø¹ Ù…Ù†Ø´Ù†** ')
.addField('     **$bc3 ** ' ,' ** Ø§ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…Ø¹ Ù…Ù†Ø´Ù†** ')
.addField('     **$clear ** ' ,' **Ù„Ù…Ø³Ø­ Ø´Ø§Øª** ')
.setColor('#9502ac')
  message.channel.sendEmbed(embed);
    }
});




client.login(process.env.BOT_TOKEN);
